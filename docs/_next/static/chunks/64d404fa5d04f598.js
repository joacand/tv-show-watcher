(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var s=e.i(43476),a=e.i(33938),l=e.i(71645),o=e.i(7861),t=e.i(38267),i=e.i(67719),i=i;function n({className:e="",children:a}){return(0,s.jsx)(i.default,{className:`p-4 bg-blue-50 border-l-4 border-blue-400 ${e}`,elevation:1,children:a})}function r({className:e="",children:i}){let[r,d]=(0,l.useState)([]),[c,g]=(0,l.useState)(!1),[u,h]=(0,l.useState)({showIds:[]});(0,l.useEffect)(()=>{let e=localStorage.getItem("shows");e||g(!0),h(e?JSON.parse(e):{showIds:[28276,347,305,44933]})},[]),(0,l.useEffect)(()=>{Promise.all(u.showIds.map(e=>(0,o.getTvShow)(e))).then(e=>d(e)).catch(e=>console.error(e))},[u]);let b=(0,l.useMemo)(()=>[{accessorKey:"id",header:"Id",enableHiding:!1,enableColumnDragging:!1},{accessorKey:"show",header:"Show",enableHiding:!1,enableColumnDragging:!1,grow:!0},{accessorKey:"episode",header:"Episode",enableColumnDragging:!1,grow:!1},{accessorKey:"latestEpisode",header:"Latest Episode",enableColumnDragging:!1,Cell:({cell:e})=>(0,s.jsx)("span",{children:-99999===e.getValue()?"N/A":`${e.getValue()} day${1===e.getValue()?"":"s"} ago`}),grow:!1},{accessorKey:"nextEpisode",header:"Next Episode",enableColumnDragging:!1,Cell:({cell:e})=>(0,s.jsx)("span",{children:-99999===e.getValue()?"N/A":`${e.getValue()} day${1===e.getValue()?"":"s"}`}),grow:!1}],[]),m=async()=>{let e=localStorage.getItem("shows"),s=e?JSON.parse(e):{showIds:[]};p.getSelectedRowModel().flatRows.map(e=>{let a=e.getValue("id");if(s.showIds.includes(a)){let e=s.showIds.indexOf(a);-1!==e&&(s.showIds.splice(e,1),console.log(`removing ${a}`))}localStorage.setItem("shows",JSON.stringify(s)),p.resetRowSelection(),h(s)})},p=(0,a.useMaterialReactTable)({columns:b,data:r,enableRowSelection:!0,enableColumnOrdering:!0,enableColumnActions:!1,enableGlobalFilter:!1,enableKeyboardShortcuts:!1,enableColumnFilters:!1,enableTopToolbar:!1,paginationDisplayMode:"pages",layoutMode:"grid",initialState:{sorting:[{id:"latestEpisode",desc:!1}],pagination:{pageSize:15,pageIndex:0},density:"comfortable",columnVisibility:{id:!1}}});return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)(a.MaterialReactTable,{table:p}),(0,s.jsx)(t.default,{className:"self-start",onClick:m,children:"Remove"}),c&&(0,s.jsxs)(n,{children:["Since this is your first visit, some sample shows have been added. These will be removed when you add your first show in '",(0,s.jsx)("b",{children:"Search for TV Shows"}),"'."]})]})}function d(){return(0,s.jsx)(r,{})}e.s(["default",()=>d],31713)}]);